## 1. 用户管理组件开发

- [x] 1.1 创建 `src/components/users/create-user-dialog.tsx` 组件（创建用户对话框）
  - 表单字段：姓名、邮箱、密码、是否启用、角色选择
  - 集成 `postUsersCreateApi` API
  - 表单验证（zod）
- [x] 1.2 创建 `src/components/users/delete-user-dialog.tsx` 组件（删除确认对话框）
  - 支持单个和批量删除
  - 集成 `deleteUsersApi` API
- [x] 1.3 创建 `src/components/users/role-assign-dialog.tsx` 组件（角色分配对话框）
  - 显示可用角色列表
  - 标识当前已分配角色
  - 集成 `getRolesApi`、`postUsersAssignRoleApi`、`deleteUsersRemoveRoleApi` API
- [x] 1.4 创建 `src/components/users/user-status-switch.tsx` 组件（用户状态切换开关）
  - 支持单个和批量切换
  - 集成 `patchUsersToggleStatusApi` API
  - 显示确认对话框（禁用时）

## 2. 用户管理页面重构

- [x] 2.1 重构 `src/app/users/page.tsx`，移除假数据和硬编码表格
- [x] 2.2 集成 DataTable 组件，配置用户列表列
  - 列定义：姓名、邮箱、邮箱验证状态、最后登录、登录次数、状态、创建时间、操作
  - 搜索字段：姓名、邮箱
  - 排序字段：创建时间、最后登录时间、登录次数
  - 状态筛选：启用/禁用
- [x] 2.3 实现用户列表数据加载
  - 集成 `getUsersApi` API
  - 支持分页参数（page, limit）
  - 支持搜索参数（search）
  - 支持排序参数（sortBy, sortOrder）
  - 支持状态筛选（isActive）
- [x] 2.4 实现加载状态显示
  - API 调用时显示 loading
  - 数据为空时显示空状态提示

## 3. 功能集成

- [x] 3.1 集成创建用户功能
  - 点击"添加用户"按钮打开创建对话框
  - 提交后刷新用户列表
  - 显示成功/失败提示
- [x] 3.2 集成删除用户功能
  - 单个删除：点击操作列删除按钮
  - 批量删除：选中多个用户后显示批量操作按钮
  - 删除前显示确认对话框
  - 删除后刷新用户列表
  - 显示成功/失败提示
- [x] 3.3 集成角色分配功能
  - 点击操作列"分配角色"按钮打开对话框
  - 加载用户当前角色
  - 加载可用角色列表
  - 提交角色变更后刷新用户角色显示
  - 显示成功/失败提示
- [x] 3.4 集成用户状态切换功能
  - 单个切换：点击状态开关
  - 批量切换：选中多个用户后显示批量操作
  - 禁用时显示确认对话框
  - 切换后刷新用户列表
  - 显示成功/失败提示

## 4. 表单验证和错误处理

- [x] 4.1 创建用户表单验证规则（使用 zod）
  - 姓名：必填，长度限制
  - 邮箱：必填，邮箱格式验证
  - 密码：必填，最小长度，密码强度
  - 角色：可选，至少选择一个时需验证
- [x] 4.2 实现错误提示
  - 使用 toast 组件显示 API 错误
  - 表单字段错误显示在对应字段下方
  - 网络错误提示用户重试

## 5. 代码质量检查

- [x] 5.1 运行 `npm run lint` 检查代码问题
- [x] 5.2 运行 `npm run lint:fix` 自动修复问题
- [x] 5.3 运行 `npm run format` 格式化代码
- [x] 5.4 手动检查代码风格是否符合项目规范

## 6. 测试和验证

- [ ] 6.1 验证用户列表正确加载和显示
- [ ] 6.2 验证搜索功能正常工作（姓名、邮箱）
- [ ] 6.3 验证分页功能正常工作
- [ ] 6.4 验证排序功能正常工作（创建时间、最后登录时间、登录次数）
- [ ] 6.5 验证状态筛选功能正常工作（启用/禁用）
- [ ] 6.6 验证创建用户功能正常工作
- [ ] 6.7 验证单个删除用户功能正常工作
- [ ] 6.8 验证批量删除用户功能正常工作
- [ ] 6.9 验证角色分配功能正常工作
- [ ] 6.10 验证用户状态切换功能正常工作
- [ ] 6.11 验证表单验证正确工作
- [ ] 6.12 验证错误处理和提示信息正确显示
